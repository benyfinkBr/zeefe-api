<!DOCTYPE html>
<html lang="pt-BR">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-17483604386"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-17483604386');
</script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FAQ — Ze.EFE</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .faq-hero { padding: 40px 0 10px; }
    .faq-hero h1 { margin: 0 0 8px; }
    .faq-tabs { display: flex; gap: 12px; margin: 16px 0 24px; flex-wrap: wrap; }
    .faq-tab { border: 1px solid var(--brand-green); background: #fff; color: var(--brand-green); border-radius: 999px; padding: 8px 16px; font-weight: 600; cursor: pointer; }
    .faq-tab.active { background: var(--brand-green); color: #fff; }
    .faq-panel { display: none; }
    .faq-panel.active { display: block; }
    .faq-search { background: #fff; border-radius: 16px; padding: 16px; box-shadow: var(--shadow-soft); display: grid; gap: 8px; }
    .faq-search input { width: 100%; border: 1px solid var(--brand-sand); border-radius: 10px; padding: 12px 14px; font-size: 1rem; }
    .faq-search small { color: var(--brand-muted); }
    .faq-section { margin: 18px 0 8px; }
    details.faq-item { border: 1px solid var(--brand-sand); border-radius: 12px; padding: 12px 14px; background: #fff; }
    details.faq-item + details.faq-item { margin-top: 10px; }
    summary { cursor: pointer; font-weight: 600; }
    .faq-contact-cta { margin-top: 28px; display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
    .faq-contact-cta button { border: none; background: none; color: var(--brand-green); font-weight: 700; cursor: pointer; text-decoration: underline; padding: 0; }
    .faq-contact-form { width: 100%; display: grid; gap: 12px; }
    .faq-contact-form label { font-weight: 600; }
    .faq-contact-form input,
    .faq-contact-form select,
    .faq-contact-form textarea {
      width: 100%;
      border: 1px solid var(--brand-sand);
      border-radius: 10px;
      padding: 10px 12px;
      font-size: 0.95rem;
      font-family: inherit;
    }
    .faq-contact-form textarea { min-height: 120px; resize: vertical; }
    .faq-contact-actions { display: flex; gap: 10px; justify-content: flex-end; }
    .faq-contact-status { color: var(--brand-green); font-weight: 600; }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="site-header-inner">
      <div class="site-header-left">
        <a href="index.html" class="site-logo">
          <img src="img/logo.jpg" alt="Ze.EFE" />
        </a>
        <nav class="site-nav">
          <a href="salas.html">Salas</a>
          <a href="workshops.html">Cursos</a>
          <a href="conteudos.html">Conteúdos</a>
          <a href="quemsomos.html">Quem somos</a>
        </nav>
      </div>
      <div class="site-header-actions">
        <a href="clientes.html" class="site-link">Portal do Cliente</a>
      </div>
    </div>
  </header>

  <main>
    <section class="landing-section faq-hero">
      <div class="section-heading">
        <h1>FAQ e passo-a-passo</h1>
        <p>Respostas rápidas para dúvidas mais comuns e guias por perfil.</p>
      </div>
      <div class="faq-tabs" role="tablist">
        <button class="faq-tab active" data-target="faq-cliente" type="button">Cliente</button>
        <button class="faq-tab" data-target="faq-empresa" type="button">Empresa</button>
      </div>

      <div class="faq-search">
        <label for="faqSearch"><strong>Digite sua dúvida</strong></label>
        <input id="faqSearch" type="search" list="faqSuggestions" placeholder="Ex: Como cancelar uma reserva?" />
        <datalist id="faqSuggestions"></datalist>
        <small>Digite para filtrar. As respostas aparecem abaixo.</small>
      </div>

      <div id="faq-cliente" class="faq-panel active" role="tabpanel">
        <div class="faq-section">
          <h3>FAQ do Cliente — passo a passo</h3>
          <h4>Reservas e comunicacao</h4>
          <details class="faq-item" data-question="Como fazer uma reserva">
            <summary>Como fazer uma reserva?</summary>
            <p>Passo a passo: 1) Acesse Salas e escolha a sala. 2) Leia a descricao e confirme se atende sua necessidade. 3) Defina data, horario e quantidade de pessoas. 4) Escolha a opcao de pagamento/cancelamento. 5) Selecione um cartao salvo (ou cadastre um novo) e finalize. Voce recebe confirmacao na tela e por e-mail.</p>
          </details>
          <details class="faq-item" data-question="Como escolher a opcao de pagamento">
            <summary>Como escolher a opcao de pagamento/cancelamento?</summary>
            <p>Passo a passo: 1) Na confirmacao da reserva, veja as opcoes disponiveis. 2) Leia cada regra (quando cobra e se tem multa). 3) Compare com seu planejamento. 4) Selecione a opcao e continue.</p>
          </details>
          <details class="faq-item" data-question="Posso remarcar uma reserva">
            <summary>Posso remarcar uma reserva?</summary>
            <p>Passo a passo: 1) Abra Minhas Reservas. 2) Entre na reserva. 3) Se existir o botao Editar, ajuste data e horario. 4) Se nao existir, cancele e faca uma nova reserva.</p>
          </details>
          <details class="faq-item" data-question="Como cancelar uma reserva">
            <summary>Como cancelar uma reserva?</summary>
            <p>Passo a passo: 1) Abra Minhas Reservas. 2) Entre na reserva desejada. 3) Clique em Cancelar. 4) Leia o aviso e confirme a primeira etapa. 5) Confirme a segunda etapa. O status muda e o e-mail de cancelamento e enviado. Se houver multa, o valor aparece antes da confirmacao final.</p>
          </details>
          <details class="faq-item" data-question="Pagamento pendente na reserva">
            <summary>Pagamento pendente na reserva</summary>
            <p>Passo a passo: 1) Verifique a politica escolhida. 2) Se for pagamento futuro, aguarde a data prevista. 3) Se for imediato e estiver pendente, abra Meu Perfil e confira o cartao. 4) Atualize o cartao se necessario. Voce recebe notificacao quando a cobranca acontece.</p>
          </details>
          <details class="faq-item" data-question="O que acontece se eu cancelar em cima da hora">
            <summary>O que acontece se eu cancelar em cima da hora?</summary>
            <p>Passo a passo: 1) Abra a reserva e clique em Cancelar. 2) Leia a politica aplicada. 3) Veja se ha multa e o valor estimado. 4) Confirme apenas se estiver de acordo. O aviso aparece antes da confirmacao final.</p>
          </details>
          <details class="faq-item" data-question="Como falar com o anunciante">
            <summary>Como falar com o anunciante?</summary>
            <p>Passo a passo: 1) Abra a reserva. 2) Clique em Mensagens. 3) Escreva sua duvida e envie. O anunciante recebe notificacao e responde pelo chat.</p>
          </details>
          <details class="faq-item" data-question="Como solicitar nota fiscal">
            <summary>Como solicitar nota fiscal?</summary>
            <p>Passo a passo: 1) Abra a reserva. 2) Clique em Solicitar NF. 3) Preencha os dados de pessoa fisica ou juridica. 4) Envie a solicitacao. O anunciante retorna a NF pelo canal combinado.</p>
          </details>
          <details class="faq-item" data-question="Como adicionar visitantes">
            <summary>Como adicionar visitantes a uma reserva?</summary>
            <p>Passo a passo: 1) Abra a reserva. 2) Clique em Visitantes. 3) Adicione nome e dados basicos. 4) Salve. Isso facilita o controle de acesso no dia.</p>
          </details>

          <h4>Workshops e cursos</h4>
          <details class="faq-item" data-question="Como me inscrever em um workshop">
            <summary>Como me inscrever em um workshop?</summary>
            <p>Passo a passo: 1) Acesse Cursos. 2) Abra o workshop desejado. 3) Leia data, horario, local e vagas. 4) Clique em Confirmar inscricao. 5) Selecione o cartao para o pagamento futuro. A inscricao fica registrada.</p>
          </details>
          <details class="faq-item" data-question="Quando o workshop sera cobrado">
            <summary>Quando o workshop sera cobrado?</summary>
            <p>Passo a passo: 1) Aguarde o minimo de participantes. 2) Quando atingir, o pagamento e confirmado. 3) Voce recebe um e-mail e o ingresso e gerado.</p>
          </details>
          <details class="faq-item" data-question="Onde vejo meu ingresso">
            <summary>Onde vejo meu ingresso?</summary>
            <p>Passo a passo: 1) Abra Meus cursos. 2) Clique no workshop inscrito. 3) Veja o QR Code do ingresso. 4) No dia do evento, apresente o QR Code no check-in.</p>
          </details>
          <details class="faq-item" data-question="Meu QR Code nao aparece">
            <summary>Meu QR Code nao aparece</summary>
            <p>Passo a passo: 1) Verifique se o minimo de participantes foi atingido. 2) Confirme se o pagamento foi realizado. 3) Reabra o workshop em Meus cursos. O QR Code tambem chega por e-mail.</p>
          </details>

          <h4>Conta e pagamentos</h4>
          <details class="faq-item" data-question="Meu pagamento falhou ou foi recusado">
            <summary>Meu pagamento falhou ou foi recusado. O que fazer?</summary>
            <p>Passo a passo: 1) Abra Meu Perfil. 2) Verifique se o cartao esta ativo e atualizado. 3) Se precisar, cadastre outro cartao com apelido. 4) Volte para a reserva/inscricao e selecione o cartao correto. 5) Se continuar, fale com seu banco.</p>
          </details>
          <details class="faq-item" data-question="Como alterar o cartao de pagamento">
            <summary>Como alterar o cartao de pagamento?</summary>
            <p>Passo a passo: 1) Abra Meu Perfil. 2) Entre em Cartoes salvos. 3) Adicione um novo cartao com apelido. 4) Na reserva/inscricao, selecione o cartao desejado antes de confirmar.</p>
          </details>
          <details class="faq-item" data-question="Como remover um cartao salvo">
            <summary>Como remover um cartao salvo?</summary>
            <p>Passo a passo: 1) Abra Meu Perfil. 2) Localize o cartao salvo. 3) Clique em Remover. 4) Se houver reserva futura, cadastre outro cartao antes de remover.</p>
          </details>
          <details class="faq-item" data-question="Como usar voucher">
            <summary>Como usar voucher?</summary>
            <p>Passo a passo: 1) Na reserva ou inscricao, digite o codigo do voucher. 2) Clique em aplicar. 3) Veja o valor atualizado. 4) Se for invalido, a mensagem aparece na tela.</p>
          </details>
          <details class="faq-item" data-question="Nao consigo fazer login">
            <summary>Nao consigo fazer login</summary>
            <p>Passo a passo: 1) Confira se digitou o e-mail correto. 2) Verifique se confirmou o e-mail de cadastro. 3) Se nao confirmou, solicite novo e-mail de verificacao. 4) Se continuar, use Recuperar senha.</p>
          </details>

          <h4>Empresa</h4>
          <details class="faq-item" data-question="Como usar reserva pela empresa">
            <summary>Como usar reserva pela empresa?</summary>
            <p>Passo a passo: 1) Verifique se a aba Empresa aparece no topo. 2) Se aparecer, selecione Empresa. 3) Faca a reserva normalmente. 4) Se nao aparecer, solicite associacao ao administrador da empresa.</p>
          </details>
          <details class="faq-item" data-question="Minha empresa nao aparece">
            <summary>Minha empresa nao aparece</summary>
            <p>Passo a passo: 1) Confirme se voce foi associado a uma empresa. 2) Se nao, solicite o convite ao administrador. 3) Se precisar, fale com o suporte.</p>
          </details>

          <h4>Avaliacoes</h4>
          <details class="faq-item" data-question="Como avaliar a sala e a plataforma">
            <summary>Como avaliar a sala e a plataforma?</summary>
            <p>Passo a passo: 1) Aguarde o e-mail de avaliacao. 2) Avalie a sala com nota e comentario. 3) Avalie a plataforma separadamente. 4) Envie o feedback.</p>
          </details>
        </div>
      </div>

      <div id="faq-empresa" class="faq-panel" role="tabpanel">
        <div class="faq-section">
          <h3>FAQ da Empresa — passo a passo</h3>
          <h4>Acesso e convites</h4>
          <details class="faq-item" data-question="Como aceitar convite da empresa">
            <summary>Como aceitar convite da empresa?</summary>
            <p>Passo a passo: 1) Entre no Portal do Cliente. 2) Ao entrar, aparecera um convite pendente. 3) Clique em Aceitar. 4) A aba Empresa sera liberada.</p>
          </details>
          <details class="faq-item" data-question="Nao recebi convite da empresa">
            <summary>Nao recebi convite da empresa. O que fazer?</summary>
            <p>Passo a passo: 1) Confirme se o e-mail/CPF cadastrado esta correto. 2) Solicite ao gestor da empresa que reenvie o convite. 3) Se ainda nao aparecer, fale com o suporte.</p>
          </details>
          <details class="faq-item" data-question="Como convidar membros">
            <summary>Como convidar membros para a empresa?</summary>
            <p>Passo a passo: 1) Abra a aba Empresa. 2) Clique em Convidar membro. 3) Informe CPF ou e-mail. 4) Escolha o perfil. 5) Envie o convite.</p>
          </details>
          <details class="faq-item" data-question="Como reenviar um convite">
            <summary>Como reenviar um convite?</summary>
            <p>Passo a passo: 1) Abra Empresa &gt; Membros. 2) Clique em Gerenciar convites. 3) Localize o convite pendente. 4) Clique em Reenviar.</p>
          </details>

          <h4>Perfis e permissoes</h4>
          <details class="faq-item" data-question="Quais perfis existem na empresa">
            <summary>Quais perfis existem na empresa?</summary>
            <p>Perfis: Admin, Gestor, Membro e Leitor. Admin e Gestor podem convidar e remover usuarios, Membro acessa reservas e operacao, Leitor tem acesso somente a leitura.</p>
          </details>
          <details class="faq-item" data-question="Como remover um membro">
            <summary>Como remover um membro da empresa?</summary>
            <p>Passo a passo: 1) Empresa &gt; Membros. 2) Localize o usuario. 3) Clique em Remover. 4) Confirme a acao.</p>
          </details>

          <h4>Reservas da empresa</h4>
          <details class="faq-item" data-question="Como ver reservas da empresa">
            <summary>Como ver reservas da empresa?</summary>
            <p>Passo a passo: 1) Empresa &gt; Reservas. 2) Filtre por periodo. 3) Veja status e detalhes de cada reserva.</p>
          </details>
          <details class="faq-item" data-question="Como fazer reserva pela empresa">
            <summary>Como fazer reserva pela empresa?</summary>
            <p>Passo a passo: 1) Ative o modo Empresa no topo. 2) Escolha a sala e data. 3) Finalize como de costume. A reserva ficara vinculada a empresa.</p>
          </details>

          <h4>Financeiro</h4>
          <details class="faq-item" data-question="Como acompanhar pagamentos da empresa">
            <summary>Como acompanhar pagamentos da empresa?</summary>
            <p>Passo a passo: 1) Empresa &gt; Financeiro. 2) Escolha o periodo. 3) Veja pagamentos pendentes e confirmados.</p>
          </details>
          <details class="faq-item" data-question="Como exportar relatorios">
            <summary>Como exportar relatorios?</summary>
            <p>Passo a passo: 1) Empresa &gt; Financeiro. 2) Defina o periodo. 3) Clique em Exportar e salve o arquivo.</p>
          </details>

          <h4>Suporte</h4>
          <details class="faq-item" data-question="Como falar com o suporte da empresa">
            <summary>Como falar com o suporte da empresa?</summary>
            <p>Passo a passo: 1) Clique em Mensagens no portal. 2) Selecione Equipe Ze.EFE. 3) Envie sua duvida.</p>
          </details>
        </div>
      </div>

      <div class="faq-contact-cta">
        <span>Não encontrou sua dúvida? Fale Conosco</span>
        <button type="button" id="openFaqContact">(Clique Aqui)</button>
      </div>
    </section>
  </main>

  <div class="modal-overlay" id="faqContactModal" aria-hidden="true">
    <div class="modal-dialog modal-small">
      <button class="modal-close" type="button" id="closeFaqContact" aria-label="Fechar">&times;</button>
      <div class="modal-body">
        <div style="width:100%">
          <h2 style="margin-top:0">Fale Conosco</h2>
          <form id="faqContactForm" class="faq-contact-form">
            <div>
              <label for="faqContactName">Nome</label>
              <input id="faqContactName" name="name" type="text" required />
            </div>
            <div>
              <label for="faqContactEmail">E-mail</label>
              <input id="faqContactEmail" name="email" type="email" required />
            </div>
            <div>
              <label for="faqContactType">Tipo de Dúvida</label>
              <select id="faqContactType" name="issue_type" required>
                <option value="">Selecione</option>
                <option value="reserva">Reserva</option>
                <option value="pagamento">Pagamento</option>
                <option value="workshop">Workshop</option>
                <option value="conta">Conta/Perfil</option>
                <option value="empresa">Empresa</option>
                <option value="checkin">Check-in</option>
                <option value="outro">Outro</option>
              </select>
            </div>
            <div>
              <label for="faqContactMessage">Dúvida</label>
              <textarea id="faqContactMessage" name="message" required></textarea>
            </div>
            <div class="faq-contact-actions">
              <button type="button" class="btn btn-secondary" id="cancelFaqContact">Cancelar</button>
              <button type="submit" class="btn btn-primary" id="sendFaqContact">Enviar</button>
            </div>
            <div class="faq-contact-status" id="faqContactStatus" aria-live="polite"></div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script>
    const tabs = document.querySelectorAll('.faq-tab');
    const panels = document.querySelectorAll('.faq-panel');
    const params = new URLSearchParams(window.location.search);
    const initial = params.get('perfil');
    const searchInput = document.getElementById('faqSearch');
    const suggestions = document.getElementById('faqSuggestions');

    function setActivePanel(targetId) {
      tabs.forEach(t => t.classList.toggle('active', t.dataset.target === targetId));
      panels.forEach(p => p.classList.toggle('active', p.id === targetId));
    }

    if (initial) {
      const allowed = ['cliente', 'empresa'];
      const target = allowed.includes(initial) ? `faq-${initial}` : 'faq-cliente';
      setActivePanel(target);
    }

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        setActivePanel(tab.dataset.target);
        if (searchInput) searchInput.value = '';
        filterFaq('');
      });
    });

    const allItems = Array.from(document.querySelectorAll('details.faq-item'));
    const allQuestions = allItems.map(item => item.getAttribute('data-question') || item.querySelector('summary')?.textContent || '').filter(Boolean);
    if (suggestions) {
      suggestions.innerHTML = allQuestions.map(q => `<option value="${q}"></option>`).join('');
    }

    function filterFaq(query) {
      const activePanel = document.querySelector('.faq-panel.active');
      if (!activePanel) return;
      const items = Array.from(activePanel.querySelectorAll('details.faq-item'));
      const term = (query || '').trim().toLowerCase();
      items.forEach(item => {
        const text = (item.textContent || '').toLowerCase();
        item.style.display = term === '' || text.includes(term) ? 'block' : 'none';
        if (term && text.includes(term)) {
          item.open = true;
        } else {
          item.open = false;
        }
      });
    }

    searchInput?.addEventListener('input', (e) => filterFaq(e.target.value));

    const contactModal = document.getElementById('faqContactModal');
    const openFaqContact = document.getElementById('openFaqContact');
    const closeFaqContact = document.getElementById('closeFaqContact');
    const cancelFaqContact = document.getElementById('cancelFaqContact');
    const faqContactForm = document.getElementById('faqContactForm');
    const faqContactStatus = document.getElementById('faqContactStatus');
    const sendFaqContact = document.getElementById('sendFaqContact');

    function openContactModal() {
      contactModal.classList.add('show');
      contactModal.setAttribute('aria-hidden', 'false');
      faqContactStatus.textContent = '';
    }

    function closeContactModal() {
      contactModal.classList.remove('show');
      contactModal.setAttribute('aria-hidden', 'true');
    }

    openFaqContact?.addEventListener('click', openContactModal);
    closeFaqContact?.addEventListener('click', closeContactModal);
    cancelFaqContact?.addEventListener('click', closeContactModal);
    contactModal?.addEventListener('click', (e) => {
      if (e.target === contactModal) closeContactModal();
    });
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && contactModal?.classList.contains('show')) {
        closeContactModal();
      }
    });

    faqContactForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      faqContactStatus.textContent = '';
      sendFaqContact.disabled = true;
      try {
        const formData = new FormData(faqContactForm);
        const payload = {
          name: String(formData.get('name') || '').trim(),
          email: String(formData.get('email') || '').trim(),
          issue_type: String(formData.get('issue_type') || '').trim(),
          message: String(formData.get('message') || '').trim()
        };
        const response = await fetch('api/faq_contact.php', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        const data = await response.json().catch(() => ({}));
        if (!response.ok || !data.success) {
          throw new Error(data.error || 'Nao foi possivel enviar sua mensagem.');
        }
        faqContactStatus.textContent = 'Mensagem enviada com sucesso.';
        faqContactForm.reset();
        setTimeout(() => {
          closeContactModal();
          faqContactStatus.textContent = '';
        }, 1200);
      } catch (err) {
        faqContactStatus.textContent = err.message || 'Erro ao enviar sua mensagem.';
      } finally {
        sendFaqContact.disabled = false;
      }
    });
  </script>
</body>
</html>
