<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ze.EFE - Portal do Cliente</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="client-portal-page client-logged-out">
  <header class="header">
    <h1 class="logo">Ze.EFE</h1>
    <nav>
      <a href="index.html">Início</a>
      <a href="salas.html">Salas</a>
      <a href="pre-reserva.html">Pré-Reserva</a>
      <a href="clientes.html" aria-current="page">Área do Cliente</a>
    </nav>
  </header>

  <main class="client-portal">
    <section id="authContainer" class="auth-container">
      <div id="authLogin" class="auth-screen">
        <div class="login-card">
          <img src="img/logo.jpg" alt="Ze.EFE">
          <h2>Portal do Cliente<br><span>Ze.EFE</span></h2>
          <form id="portalLoginForm" autocomplete="on">
            <input type="text" id="portalLoginIdentifier" name="identifier" placeholder="Login, e-mail ou CPF" required autocomplete="username" />
            <input type="password" id="portalLoginPassword" name="password" placeholder="Senha" required autocomplete="current-password" />
            <div class="remember-line">
              <label class="remember">
                <input type="checkbox" id="portalRememberMe" />
                <span>Lembrar login neste computador</span>
              </label>
            </div>
            <button class="btn btn-primary" type="submit">Entrar</button>
          </form>
          <div class="auth-quick-actions" id="authActions">
            <button type="button" class="ghost-btn" data-view="recovery">Esqueci minha senha</button>
            <button type="button" class="ghost-btn" data-view="register">Quero me cadastrar</button>
          </div>
        </div>
      </div>

      <div id="authRegister" class="auth-screen" hidden>
        <div class="login-card">
          <img src="img/logo.jpg" alt="Ze.EFE">
          <h2>Criar acesso<br><span>Portal do Cliente</span></h2>
          <form id="portalRegisterForm" class="auth-form" autocomplete="on">
            <div class="form-field">
              <label for="registerName">Nome completo</label>
              <input type="text" id="registerName" name="name" required />
            </div>
            <div class="form-field">
              <label for="registerEmail">E-mail</label>
              <input type="email" id="registerEmail" name="email" required autocomplete="email" />
            </div>
            <div class="form-field">
              <label for="registerLogin">Login</label>
              <input type="text" id="registerLogin" name="login" required autocomplete="username" />
            </div>
            <div class="form-field">
              <label for="registerCpf">CPF (opcional)</label>
              <input type="text" id="registerCpf" name="cpf" maxlength="14" autocomplete="off" />
            </div>
            <div class="form-field">
              <label for="registerPhone">Telefone (opcional)</label>
              <input type="text" id="registerPhone" name="phone" maxlength="15" autocomplete="tel" />
            </div>
            <div class="form-field">
              <label for="registerCompany">Empresa (opcional)</label>
              <select id="registerCompany" name="company_id">
                <option value="">-- Sem vínculo --</option>
              </select>
            </div>
            <div class="form-field">
              <label for="registerPassword">Senha</label>
              <input type="password" id="registerPassword" name="password" required autocomplete="new-password" />
            </div>
            <div class="form-field">
              <label for="registerPasswordConfirm">Confirmar senha</label>
              <input type="password" id="registerPasswordConfirm" name="password_confirm" required autocomplete="new-password" />
            </div>
            <button class="btn btn-primary" type="submit">Concluir cadastro</button>
          </form>
          <button type="button" class="ghost-btn" data-view="login">Voltar ao login</button>
        </div>
      </div>

      <div id="authRecovery" class="auth-screen" hidden>
        <div class="login-card">
          <img src="img/logo.jpg" alt="Ze.EFE">
          <h2>Recuperar acesso<br><span>Portal do Cliente</span></h2>
          <form id="portalRecoveryForm" class="auth-form" autocomplete="on">
            <div class="form-field">
              <label for="recoveryLogin">Login ou e-mail cadastrado</label>
              <input type="text" id="recoveryLogin" name="login" required autocomplete="username" />
            </div>
            <p class="rooms-message">Enviaremos uma senha temporária para o e-mail registrado.</p>
            <button class="btn btn-primary" type="submit">Enviar nova senha</button>
          </form>
          <button type="button" class="ghost-btn" data-view="login">Voltar ao login</button>
        </div>
      </div>

      <div id="authMessage" class="rooms-message auth-message"></div>
    </section>

    <section id="clientPanels" class="client-summary" hidden>
      <div class="client-summary-card">
        <div class="client-summary-header">
          <div>
            <h2>Olá, <span id="clientName"></span></h2>
            <p id="clientCompany" class="portal-subtitle"></p>
          </div>
          <button type="button" id="logoutBtn" class="btn btn-secondary">Sair</button>
        </div>
        <p class="summary-message">
          As reservas, visitantes e demais cadastros são administrados pelo painel ZeefeAdmin. Utilize os atalhos abaixo para solicitar uma nova pré-reserva ou abrir o painel administrativo.
        </p>
        <div class="summary-actions">
          <a class="btn btn-primary" href="pre-reserva.html">Solicitar pré-reserva</a>
          <a class="btn btn-secondary" href="zeefeadmin.html">Abrir ZeefeAdmin</a>
        </div>
      </div>

      <div class="client-summary-grid">
        <article class="form-card profile-card">
          <h3>Dados do Cliente</h3>
          <form id="profileForm" class="profile-form">
            <div class="form-grid-mini">
              <div>
                <label for="profileNameInput">Nome completo</label>
                <input type="text" id="profileNameInput" name="name" required readonly />
              </div>
              <div>
                <label for="profileLoginInput">Login</label>
                <input type="text" id="profileLoginInput" name="login" required readonly />
              </div>
            </div>
            <div class="form-grid-mini">
              <div>
                <label for="profileEmailInput">E-mail</label>
                <input type="email" id="profileEmailInput" name="email" readonly data-immutable="true" />
              </div>
              <div>
                <label for="profileCpfInput">CPF</label>
                <input type="text" id="profileCpfInput" name="cpf" readonly data-immutable="true" />
              </div>
            </div>
            <div class="form-grid-mini">
              <div>
                <label for="profilePhoneInput">Telefone</label>
                <input type="text" id="profilePhoneInput" name="phone" maxlength="15" readonly />
              </div>
              <div>
                <label for="profileWhatsappInput">WhatsApp</label>
                <input type="text" id="profileWhatsappInput" name="whatsapp" maxlength="15" readonly />
              </div>
            </div>
            <div class="form-row">
              <label for="profileCompanyInput">Empresa</label>
              <input type="text" id="profileCompanyInput" class="input-readonly" readonly data-immutable="true" />
            </div>
            <p class="form-help">E-mail e CPF são definidos no cadastro inicial e não podem ser alterados pelo portal.</p>
            <div class="form-row profile-actions">
              <button type="button" class="btn btn-secondary" id="editProfileBtn">Editar dados</button>
              <button type="submit" class="btn btn-primary" id="saveProfileBtn" hidden>Salvar alterações</button>
              <button type="button" class="btn btn-secondary" id="cancelProfileEditBtn" hidden>Cancelar</button>
            </div>
            <div class="form-row">
              <div id="profileMessage" class="rooms-message"></div>
            </div>
          </form>
        </article>

        <article class="form-card reservations-card">
          <div class="list-header">
            <h3>Minhas reservas</h3>
            <button class="btn btn-secondary" type="button" id="refreshBtn">Atualizar</button>
          </div>
          <div id="reservationsContainer" class="responsive-table"></div>
        </article>
      </div>
    </section>
  </main>

  <footer>
    <p>Contato: contato@zeefe.com | (11) 1234-5678</p>
    <p>Endereço: Moema, São Paulo - SP</p>
    <p><a href="#">Instagram</a> | <a href="#">LinkedIn</a></p>
    <p>© 2025 Ze.EFE - Todos os direitos reservados</p>
  </footer>

  <script src="scripts/clientes.js" defer></script>
</body>
</html>
